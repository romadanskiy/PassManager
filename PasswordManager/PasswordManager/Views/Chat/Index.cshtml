@model PasswordManager.ViewModels.ChatViewModel
@{
    ViewData["Title"] = "Chat";
}

@if (Model.IsTechSupport)
{
    <h1>Чат с пользователями</h1>
    <p>Напоминание: будьте вежливыми с клиентами</p>
}
else
{
    <h1>Чат с поддержкой</h1>
    <p>Вы можете задать вопрос</p>
}

<div>
    <input asp-for="IsTechSupport" type="hidden" id="isTechSupport"/>
    <div class="form-group">
        <label asp-for="Email"></label>
        <input asp-for="Email" id="user" class="form-control" disabled/>
    </div>
    <div class="form-group">
        <label for="message">Сообщение</label>
        <input type="text" id="message" class="form-control"/>
    </div>
    <div class="form-group">
        <label asp-for="Receiver"></label>
        @if (Model.IsTechSupport)
        {
            <input asp-for="Receiver" id="receiver" class="form-control"/>
        }
        else
        {
            <input type="text" class="form-control" value="Служба поддержки" disabled/>
            <input type="hidden" asp-for="Receiver" id="receiver" class="form-control"/>
        }
    </div>
    <div class="form-group">
        <input type="button" id="sendBtn" class="btn btn-primary" value="Отправить"/>
    </div>
</div>

<div class="row">
    <div class="col-12">
        <hr />
    </div>
</div>

<div>
    <ul id="messagesList"></ul>
</div>


@section Scripts
{
    <script src="js/signalr/dist/browser/signalr.js"></script>
    <script src="js/chat.js"></script>
}
